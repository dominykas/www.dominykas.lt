# Apie prioritetus ir kodo grožį

<p>Sėdėdamas ir žiūrėdamas eilinę prezentaciją apie Javascript ir <i>accessibility</i> <a href="http://developer.yahoo.net/blogs/theater/">YDN teatre</a> prisiminiau mintį: <em><a href="http://www.sadauskas.lt/index.php/2007/04/09/usability-ir-programuotojai/">programuotojai nemėgsta <i>usability</i>, nes reikia rašyti daug <i>if</i>‘ų</a></em>. Užsimąsčiau apie tai, kad programuotojo darbas susideda iš labai daug balansavimo.<br>
<span id="more-280"></span><br>
Taigi, tam, kad sukurti pakankamai patogų interfeisą, reikia rašyti daug kodo eilučių. Tai natūraliai turi įtakos veikimo greičiui. Tam, kad sistema veiktų greitai, kartais tenka aukoti funkcionalumą, o kartais tenka rašyti visiškai nesuprantamą galvosūkį keistų simbolių, kurių net patyrę programuotojai nesupranta. Tam, kad kodas būtų lengvai skaitomas ir nekeltų daug problemų, kai reikia jį tvarkyti, tenka aukoti kitus dalykus, pvz. tą patį <i>accessibility</i>. Kad padaryti kažką arčiau tobulumo, tenka sugaišti begalybę laiko ir pinigų, ir tada atsiranda problema su tais, kas užsakinėja muziką.</p>
<p>Žiūrint prezentacijas, įvairūs specialistai vis kartoja savo srities mantras – “daryk taip ar anaip, ir sutaupyk trečdalį sekundės siuntimo laiko”, “<i>agile</i> procesas sako, kad nereikia per daug laiko skirti planavimui”, “<i>user centered</i> procesas sako, kad reikia skirti pakankamai laiko vartotojų tyrimams ir pasiruošimui”. Dar anądien ir pats norėjau parašyti blog’ą apie tai, kaip paprasta naudojant naujus HTML5 atributus ir elementarias “geriausias praktikas” suprogramuoti patvirtinimo dialogą, kuris veikia visose situacijose, įdedant “vos keletą eilučių daugiau” kodo (gal ir parašysiu kada kai bus gera nuotaika).</p>
<p>Atmetus seną gerą taisyklę, kad iš “gerai”, “pigiai” ir “greitai” galima pasirinkti tik du, aš savo kasdieniame darbe, kodą rašau remdamasis maždaug tokiais principais:</p>
<ol start="0">
<li><strong>Kodo grožis</strong> – žr. paskutinį punktą šiame sąraše.</li>
<li><strong>Produkto patogumas</strong> – aš linkęs paaukoti labai daug kitų dalykų tam, kad galutinis rezultatas patenkintų galutinį vartotoją – ar tai būtų klientas, ar kitas programuotojas naudojantis mano <abbr title="Application Programming Interface">API</abbr>.</li>
<li><strong>Minimalizmas</strong> – jeigu kažko galima nedaryti – aš padarysiu viską, kad to nedaryti. Šitas principas iš esmės paaiškina du žemiau esančius punktus. Papildoma taisyklė – <strong>blogas programuotojas tas, kuris nėra tinginys</strong>.</li>
<li><strong>Palaikymo kaina</strong> – iš esmės susiveda į tai, kad reikia rašyti mažiau kodo ir reikia jį organizuoti kuo mažesniais, suprantamais gabaliukais. Visa tai galutiniam rezultate reiškia a) mažiau šansų vabaliukams b) lengviau suvokti. Be abejo, sutrauktas ir minimalizuotas kodas nereiškia, kad jis yra lengviau suprantamas ar palaikomas (čia ypač tinka kalbant apie tokius dalykus kaip visa Perl kalba, regex arba LINQ) – šis principas yra iš esmės narciziškas ir remiasi į tai, kad atėjęs kitas žmogus nesugadins veikiančio dalyko.</li>
<li><strong>Sukūrimo kaina / produktyvumas</strong> – šis punktas yra skiriamoji linija – dėl visko, kas yra aukščiau jo, aš linkęs aukotis ir sėdėti viršvalandžius. O kalbant apie tai, kas yra žemiau jo, tai tikėtinas variantas yra, kad aš paliksiu <code>@todo</code> žymeles.</li>
<li><strong>Standartai, <i>best practices</i> ir “teisingumas”</strong> – šis principas anksčiau būdavo gerokai aukščiau šiame sąraše – turbūt dėl to dabar dėl tokių dalykų nebereikia jaudintis, nes jie ateina natūraliai. Tiesiog, įvertindamas kitus faktorius mieliau pasirinksiu paprastumą vietoj devynaukščio objektinio dizaino <i>pattern</i>‘o. “Teisingumas” šiuo požiūriu reiškia puritoniškumą ir naivų idealo siekimą, o ne tiesiog “veikiantį kodą”.</li>
<li><strong><i>Accessibility</i></strong> – iš dalies čia truputį gėda. Iš kitos pusės, lygiai kaip ir su standartais ir “teisingumu” – tiesiog esu įpratęs padaryti tam tikrą kiekį šito darbo automatiškai ir nesistengdamas, o daugiau papildomų pastangų tam nededu, nes jos daugiau kainuoja, negu duoda naudos.</li>
<li><strong>Plečiamumas</strong> – praktiškai niekada nededu papildomų pastangų vien tam, kad patenkinti vidinį spirgėjimą “o jeigu netyčia prireiktų padaryti XYZ” – net jeigu ateityje nepavyksta padaryti chirurgiškai tikslaus, vienos kodo eilutės dydžio, įpjovimo tam, kad sukurti papildomų funkcijų, susumavus vistiek išeina tiesiog pigiau <i>refactorinti</i> ar net perrašyti.</li>
<li><strong>Veikimo greitis</strong> – čia nekalbu apie varotojo suvokimą/įsivaizdavimą apie interfeisą – daugiau apie realius CPU/atminties resursus. Manau, kad geriausia yra žinoti tobulintinus dalykus, tačiau pasitenkinti tiesiog “gerais programavimo įpročiais” tol, kol nereikia to tvarkyti. O kai prisireikia tvarkyti – visų pirma gerai pamatuoti!</li>
<li><strong>Kodo grožis</strong> – paminėjau šitą dalyką pirmu numeriu, tačiau labai retai darau taip, kad kodas atrodytų “gražus”. Grožis yra subjektyvus, o <strong>patenkinus visus aukščiau esančius reikalavimus, kodas pats savaime atrodo gražus</strong>.</li>
</ol>
<p>Dabar kai jau surašiau <del>juodu ant balto</del> klaviatūra į ekraną, viskas atrodo taip akivaizdu… Ką praleidau? Kokia jūsų prioritetų tvarka?</p>